{
   "title": "Sapphire Plug-ins for AVX2: UltraGrain",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/UltraGrain.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="UltraGrain">
     <h2>
      S_UltraGrain
     </h2>
    </a>
    Adds simulated digital camera grain to the source clip.
    <p>
     In the Sapphire Stylize category.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      <i>
       The current track.
      </i>
      The clip to be processed.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       Optional.
      </i>
      The clip to use as background.  The output of the effect is composited over this clip.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Mask:
      </b>
      <i>
       Optional.
      </i>
      Interpolate between the result and the Source input.  White areas
use the result of the effect.  Black areas use the Source clip.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/UltraGrain.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Amp:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 5.
   <br/>
   Scales the amplitude of the grain that is added to
    the result.  Set this to 0 to disable all grain.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Size:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0.001 or greater.
   <br/>
   Scales the size of the grain that is added to the result.
    Useful when changing resolution, set this scale factor to match the change in resolution.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Blur:
   </b>
   <i>
    Default:
   </i>
   0.00567,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The grain is smoothed by this amount.  Increase for
  coarser grain.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Amp Red:
   </b>
   <i>
    Default:
   </i>
   3.29,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the red grain amplitude.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Amp Green:
   </b>
   <i>
    Default:
   </i>
   3,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the green grain amplitude.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Amp Blue:
   </b>
   <i>
    Default:
   </i>
   3.52,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the blue grain amplitude.  Note that grain is
  added and subtracted from the image, so for example, increasing
  Grain Amp Blue will amplify both the blue and yellow speckles.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Blur Red:
   </b>
   <i>
    Default:
   </i>
   0.572,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative blur amount for the red grain.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Blur Green:
   </b>
   <i>
    Default:
   </i>
   0.561,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative blur amount for the green grain.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Blur Blue:
   </b>
   <i>
    Default:
   </i>
   0.528,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative blur amount for the blue grain.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Amp Darks:
   </b>
   <i>
    Default:
   </i>
   0.37,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative amount of grain applied to the darkest
    regions of the image, per channel.  Dark source intensity in the image
    is defined as black (0 0 0).
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Amp Mids:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative amount of grain applied to the midtone
    regions of the image, per channel.  Midtone source intensity in the image
    is defined by the Midtone Pos parameters.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Amp Brights:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative amount of grain applied to the
    brightest regions of the image, per channel.  Bright source intensity in
    the image is defined as white (1 1 1).
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Midtone Pos Red:
   </b>
   <i>
    Default:
   </i>
   0.27,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The position of the midtones in the red channel.  The red
    grain amplitude is interpolated from Grain Amp Darks at black, to
    Grain Amp Mids at this midtone position, then to Grain Amp Brights at
    white.  This whole curve is then scaled by the Grain Amp Red
    parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Midtone Pos Green:
   </b>
   <i>
    Default:
   </i>
   0.3,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The position of the midtones in the green channel.  The green
    grain amplitude is interpolated from Grain Amp Darks at black, to
    Grain Amp Mids at this midtone position, then to Grain Amp Brights at
    white.  This whole curve is then scaled by the Grain Amp Green
    parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Midtone Pos Blue:
   </b>
   <i>
    Default:
   </i>
   0.31,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The position of the midtones in the blue channel.  The blue
    grain amplitude is interpolated from Grain Amp Darks at black, to
    Grain Amp Mids at this midtone position, then to Grain Amp Brights at
    white.  This whole curve is then scaled by the Grain Amp Blue
    parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Mono:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   When enabled, the same grain pattern is used for the
  red, green, and blue channels.  To make truly monochrome grain you
  should also set Grain Amp Red/Green/Blue equal to each other, make
  sure Midtone Pos Red/Green/Blue are equal, and if GrainBlur is
  positive also set Grain Blur Red/Green/Blue equal
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Grain Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Initializes the random number generator for the grain
    generation.  The actual seed value is not significant, but different
    seeds give different grain patterns and the same value should give a
    repeatable pattern.
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#title-key">
  Apply To Title/Key
 </a>
 ,
 <a href="../general-info#transform">
  Crop/Transform
 </a>
 ,
 <a href="../general-info#other-params">
  Resolution
 </a>
 ,
 <a href="../general-info#other-params">
  Clamp Output To Legal
 </a>
 ,
 <a href="../general-info#other-params">
  Bypass Effect
 </a>
 , and
 <a href="../general-info#reset-defaults">
  Reset
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
