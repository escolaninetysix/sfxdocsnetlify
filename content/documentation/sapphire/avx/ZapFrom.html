{
   "title": "Sapphire Plug-ins for AVX2: ZapFrom",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/ZapFrom.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="ZapFrom">
     <h2>
      S_ZapFrom
     </h2>
    </a>
    Generates multiple lightning bolts outwards from the
  edges of objects in the FromObj input clip, and renders them over a
  background input.  Use the Show:Edges option to view the source edges
  while adjusting the Threshold and Blur From Obj parameters.
    <p>
     In the Sapphire Render category.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      <i>
       Selectable.
      </i>
      The clip to combine the lighting image with.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       FromObj:
      </b>
      <i>
       Optional.
      </i>
      The edges of objects in this clip are extracted, and the
  lightning starts at points along these edges.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       Optional.
      </i>
      Composites the Source and lighting over this clip.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Mask:
      </b>
      <i>
       Optional.
      </i>
      The lengths of the bolts in each area are scaled by this
  input.  White areas generate normal bolts, gray areas generate
  shorter bolts, and black areas cause no bolts to be made.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/ZapFrom.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Surface Bolts:
   </b>
   <i>
    Integer,  Default:
   </i>
   25,
   <i>
    Range:
   </i>
   1 or greater.
   <br/>
   The number of points along the edges to generate
  lightning bolts from.  These surface bolts are divided up amongst
  the isolated shapes in the FromObj input, proportionally to the
  sizes of the shapes.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Threshold:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The value used to determine the edge locations.
  Objects darker than this value are ignored.  On smooth objects,
  larger threshold values move the edges inwards to make smaller
  shapes, and smaller values move the edges outwards.  You can use the
  Show Edges option to view the edge image directly while adjusting
  this parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur FromObj:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the FromObj input clip before finding the
  edges.  This can help remove noise, and reduce the number of
  separate shapes.  You can use the Show Edges option to view the edge
  image directly while adjusting this parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    FromObj Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines which channel of the FromObj input channels are used.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show:
   </b>
   <i>
    Popup menu,  Default: Result
   </i>
   .
   <br/>
   Selects the output option.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Result:
      </i>
     </b>
     shows the normal lightning result over the background.
     <br/>
     <dd>
      <b>
       <i>
        Edges:
       </i>
      </b>
      shows the edge image.  This can be useful to view
  while adjusting the Threshold and Blur From Obj parameters.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Max Length:
   </b>
   <i>
    Default:
   </i>
   0.25,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the length of the bolts.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Length:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The amount to randomly vary the length of each bolt.
  A value of 0 makes all bolt lengths equal to Max Length, and a value
  of 1 makes bolt lengths between zero and Max Length.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Spacing:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The amount to randomly vary the starting point of
  each bolt along the edges.  A value of 0 makes the bolts regularly
  spaced, and value of 1 make the bolts randomly spaced.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Width:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The width of the lightning bolts.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Width:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The amount of random variation in the width of the
bolts along their lengths.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    End Pointiness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Determines how pointed the end of the bolts are.
If 0, the entire bolt will have equal width.  If 1, the bolts will
thin out along their entire length for a pointed end.  If it is .5,
the bolts will start thinning out half way between the start and
end points.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Wiggle Start:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   By default the bolts automatically wiggle over time.
This parameter provides a starting offset for these bolt
perturbations.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Wiggle Speed:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The speed at which the bolts are perturbed
automatically over time.  To animate changes in speed, set this
to zero and animate the Wiggle Start parameter instead.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Jitter Frames:
   </b>
   <i>
    Integer,  Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If this is 0, the same random lightning will be
used for every frame processed.  If it is 1, different random
lightning is used for each frame.  If it is 2, new random lightning is
used for every other frame, and so on.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rand Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Used to initialize the random number generator.  The
actual seed value is not significant, but different seeds give
different random lightning bolts, and the same value should give a
repeatable result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Wrinkle Amp:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 5.
   <br/>
   Scales the amount of wrinkles in the bolts.  Decrease
for straighter smoother bolts or increase for more kinky bolts.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Curve Amp:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Similar to Wrinkle Amp but affects the general path of
the bolt.  If decreased, the bolt will stay closer to the line between
the Start and End points.  If increased it can wander further away
from this line.  This differs from the Wrinkle Amp parameter in that
it can be used to make straighter bolts while still keeping the
wrinkles at the detailed level.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Branchiness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 10.
   <br/>
   Scales the number of additional bolts that branch
from the main bolt.  Set this to 0 for basic bolts with no extra
branches.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Branch Angle:
   </b>
   <i>
    Default:
   </i>
   65,
   <i>
    Range:
   </i>
   0 to 180.
   <br/>
   The maximum angle of the random branches relative to
the bolt they are branching off of.  If this is 0 the branches will be
more lined up with the main bolt.  With larger values the branches will
be more perpendicular to the main bolt.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Branch Length:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 to 3.
   <br/>
   The scaled length of the branches relative to the
distance between the Start and End points.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Start Offset:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The offset from the start point to begin drawing the
bolts.  This can be useful for animating a lightning strike.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Length:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The length of the bolts, beginning at Start Offset.  If
less than 1, the bolts will not be drawn all the way from start to end.
This can be useful for animating a lightning strike.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Brightness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the lightning bolts.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Scale Source:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the source clip before
  combining with the lightning.  If 0, the result will contain only the
  lightning image over black.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine:
   </b>
   <i>
    Popup menu,  Default: Screen
   </i>
   .
   <br/>
   Determines how the lightning and glow are combined with the source image.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Screen:
      </i>
     </b>
     performs a blend function which can help prevent
  overly bright results.
     <br/>
     <dd>
      <b>
       <i>
        Add:
       </i>
      </b>
      causes the lightning to be added to the source image.  This gives
  brighter glows over light image areas.
      <br/>
      <dd>
       <b>
        <i>
         Zap Only:
        </i>
       </b>
       displays the lightning over black, ignoring the source image.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Zap Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   The color of the lightning.  If you want to keep the
  lightning bolt itself bright white, you can still affect the
  perceived color by adjusting the Glow Color instead.
  </dd>
 </dl>
 <h3>
  Glow Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Color:
   </b>
   <i>
    Default rgb:
   </i>
   [0.5 0.5 1].
   <br/>
   The color of the glow applied to the lightning.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Bright:
   </b>
   <i>
    Default:
   </i>
   2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the glow applied to the lightning.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The width of the glow applied to the lightning.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width Red:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative red width of the glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width Grn:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative green width of the glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width Blue:
   </b>
   <i>
    Default:
   </i>
   1.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative blue width of the glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Affect Alpha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If this value is positive the output Alpha channel will
  include some opacity from the lightning and its glow.  The maximum
  of the red, green, and blue brightness is scaled by this value and
  combined with the background Alpha at each pixel.
  </dd>
 </dl>
 <h3>
  Mask Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mask:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mask input by this amount before using.  This
can provide a smoother transition between the masked and unmasked
areas.  It has no effect unless the Mask input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mask:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If on, inverts the mask input so the effect is applied
to areas where the Mask is black instead of white.  This has no effect
unless the Mask input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mask Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines how the Mask input channels are used to make a
monochrome mask.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used, or if there is no
valid Alpha channel the Red channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Amp:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Atmosphere gives the effect of the zap shining through
  a dusty atmosphere and picking up light or getting shadowed.
  This parameter adjusts the amount, or amplitude, of the atmospheric
  effect.  Zero gives a smooth zap, higher values give more dusty look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Freq:
   </b>
   <i>
    Default:
   </i>
   2,
   <i>
    Range:
   </i>
   0.1 to 20.
   <br/>
   Controls the spatial frequency of the atmospheric
  noise.  Turn this up higher to get finer details, turn down for
  broader overall variation.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Detail:
   </b>
   <i>
    Default:
   </i>
   0.7,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the amount of fine detail in the
  atmosphere simulation.  Decrease to get smoother atmosphere,
  increase for a more crunchy or grainy look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Used to initialize the random number generator for
  the atmospheric noise.  The actual seed value is not significant, but
  different seeds give different results and the same value should
  give a repeatable result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Speed:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   any.
   <br/>
   The cloudy noise in the atmosphere evolves over
  time like real dust clouds; this parameter controls how fast the
  cloud pattern changes over time.  Set to zero for a static pattern.
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#title-key">
  Apply To Title/Key
 </a>
 ,
 <a href="../general-info#transform">
  Crop/Transform
 </a>
 ,
 <a href="../general-info#motion-blur">
  Motion Blur
 </a>
 ,
 <a href="../general-info#other-params">
  Resolution
 </a>
 ,
 <a href="../general-info#other-params">
  Clamp Output To Legal
 </a>
 ,
 <a href="../general-info#other-params">
  Bypass Effect
 </a>
 , and
 <a href="../general-info#reset-defaults">
  Reset
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../zap">
       Zap
      </a>
      <br/>
      <a href="../zapto">
       ZapTo
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
