{
   "title": "Sapphire Plug-ins for AVX2: JpegDamage",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/JpegDamage.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="JpegDamage">
     <h2>
      S_JpegDamage
     </h2>
    </a>
    Creates a version of the Source input that is
  subjected to Jpeg compression artifacts and errors.  This can be
  used to give various looks of low quality digital transmissions.
  Three methods for manipulating your image are provided: the Jpeg
  quality can be adjusted, various internal frequencies can be scaled,
  and random decompression errors can be introduced.  In all cases it
  can also be useful to lower the resolution factor to create larger, more
  obvious Jpeg blocks.
    <p>
     In the Sapphire Stylize category.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      <i>
       The current track.
      </i>
      The clip to be processed.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       Optional.
      </i>
      The clip to use as background.  The output of the effect is composited over this clip.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Mask:
      </b>
      <i>
       Optional.
      </i>
      Interpolate between the result and the Source input.  White areas
use the result of the effect.  Black areas use the Source clip.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/JpegDamage.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Quality:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0.01 to 1.
   <br/>
   Determines the amount of normal Jpeg artifacts.
  Use lower values for more compression.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Res Factor:
   </b>
   <i>
    Integer,  Default:
   </i>
   1,
   <i>
    Range:
   </i>
   1 or greater.
   <br/>
   Downres the result by the inverse of this amount, so 1
  is full resolution, 2 is 1/2, 3 is 1/3, etc.  The pixel shapes will
  be larger when this is increased.  You won't notice the result of
  this parameter unless its value is beyond then the current viewing
  downres factor.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Res Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0.01 or greater.
   <br/>
   Downres the result by the inverse of this amount in
  the horizontal direction.  The jpeg block shapes will become
  rectangular if this is not 1.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    All Freq Scale:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the frequencies for all Jpeg coefficients.
Values other than 1 cause abnormal results, and create unusual looking
blocky versions of your input.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    X Freq Scale:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the horizontal Jpeg frequencies.  Values
other than 1 cause abnormal results.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Y Freq Scale:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the vertical Jpeg frequencies.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Low Freq Scale:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the softer low frequencies.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mid Freq Scale:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the middle range frequencies.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    High Freq Scale:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the sharper high frequencies.  You
may need a high Quality setting to see the high frequencies at all.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Affect Luma:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Determines how much the Freq Scale parameters above
affect the luminance channel.  A zero value causes no luminance
change.  Values greater than 1.0 exaggerate the change.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Affect Chroma:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Determines how much the Freq Scale parameters above
affect the chroma channels.  A zero value causes no chroma change.
Values greater than 1.0 exaggerate the change.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Error Rate:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If positive, random decompression errors are
introduced.  The value determines the average number of errors in
those blocks that receive errors.  Larger values give a more even
grainy look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Err Block Density:
   </b>
   <i>
    Default:
   </i>
   0.75,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Determines the percentage of Jpeg blocks with
errors.  A value of .5 will give errors in half of the blocks and 1.0
will give errors in all blocks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Error Amp:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The amplitude of the decompression errors.  Larger
values give more visually obvious errors.  This has no effect unless
the Error Rate is also positive.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Error Coherence:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Determines how much the blocks with errors are
grouped together.  When zero, the errors are evenly distributed
throughout the frame.  When increased, the errors are clustered into
larger groups.  This has no effect unless the Error Rate is positive
and the Err Block Density is less than 1.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Jitter Frames:
   </b>
   <i>
    Integer,  Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If this is 0, the random errors will remain the
same for every frame processed.  If it is 1, different errors are used
for each frame.  If it is 2, new errors are used for every other
frame, and so on.  This has no effect unless the Error Rate is also
positive.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rand Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Used to initialize the random number generator.  The
actual seed value is not significant, but different seeds give
different random error patterns, and the same value should give a
repeatable result.  This has no effect unless the Error Rate is also
positive.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Scale Lights:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the result by this amount.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Offset Darks:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   any.
   <br/>
   Adds this gray value to the darker regions of the source.
  This can be negative to increase contrast.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Saturation:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   any.
   <br/>
   Scales the color saturation.  Increase for more intense
colors.  Set to 0 for monochrome.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mask Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines how the Mask input channels are used to make a
monochrome mask.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used, or if there is no
valid Alpha channel the Red channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mask:
   </b>
   <i>
    Default:
   </i>
   0.05,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mask input by this amount before using.  This
can provide a smoother transition between the masked and unmasked
areas.  It has no effect unless the Mask input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mask:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If on, inverts the mask input so the effect is applied
to areas where the Mask is black instead of white.  This has no effect
unless the Mask input is provided.
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#title-key">
  Apply To Title/Key
 </a>
 ,
 <a href="../general-info#transform">
  Crop/Transform
 </a>
 ,
 <a href="../general-info#other-params">
  Resolution
 </a>
 ,
 <a href="../general-info#other-params">
  Clamp Output To Legal
 </a>
 ,
 <a href="../general-info#other-params">
  Bypass Effect
 </a>
 , and
 <a href="../general-info#reset-defaults">
  Reset
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../scanlines">
       ScanLines
      </a>
      <br/>
      <a href="../halftone">
       HalfTone
      </a>
      <br/>
      <a href="../mosaic">
       Mosaic
      </a>
      <br/>
      <a href="../flyseyerect">
       FlysEyeRect
      </a>
      <br/>
      <a href="../autopaint">
       AutoPaint
      </a>
      <br/>
      <a href="../digitaldamage">
       DigitalDamage
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
