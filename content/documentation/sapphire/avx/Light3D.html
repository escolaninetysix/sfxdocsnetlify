{
   "title": "Sapphire Plug-ins for AVX2: Light3D",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/Light3D.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="Light3D">
     <h2>
      S_Light3D
     </h2>
    </a>
    Performs 3D relighting with up to 4 individually controlled
  light sources.  The Source input is usually an ambient or diffuse
  pass from a 3d renderer that shows the surface colors.  The Normal
  vector input determines the surface direction at each pixel.
  The source and normals should be generated together by the 3d program
  so they match.
    <p>
     In the Sapphire Lighting category.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      <i>
       The current track.
      </i>
      The 3d surface colors.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Normals:
      </b>
      <i>
       Selectable.
      </i>
      Contains the normal vectors matching the Source clip.
  Typically the red channel will have the X component of the normal,
  green will have Y, and blue will have Z, but you can adjust this
  mapping using the Normal Offset and Invert parameters on the
  second page.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       Optional.
      </i>
      The clip to use as background.  The output of the effect is composited over this clip.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Mask:
      </b>
      <i>
       Optional.
      </i>
      Used to interpolate between the original image and the
  result. Where the mask is black, no lighting is applied and the
  original Source image is visible.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/Light3D.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Brightness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of all lights together.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Ambient Bright:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   any.
   <br/>
   The amount of ambient light included in the entire
  frame.  This allows parts of the source where no light is falling to
  be visible.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Diffuse Bright:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0.1 or greater.
   <br/>
   Scales the diffuse light from all light sources.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Bright:
   </b>
   <i>
    Default:
   </i>
   0.8,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of all specular highlights.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Size:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0.1 or greater.
   <br/>
   Adjusts the size of all specular highlights.
  </dd>
 </dl>
 <h3>
  Light1 Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light1 Enable:
   </b>
   <i>
    Check-box,  Default:
   </i>
   on.
   <br/>
   Enables the first light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light1 Dir:
   </b>
   <i>
    X &amp; Y,  Default:
   </i>
   screen upper left.
   <br/>
   The x and y position of the first light source.  This parameter can be adjusted using the Light1 Dir Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light1 Z:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   any.
   <br/>
   The z position of the first light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Diffuse Bright 1:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0.1 or greater.
   <br/>
   Scales the diffuse brightness for Light 1 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Bright 1:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the specular highlights for Light 1 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Size 1:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Adjusts the size of the specular highlights for Light 1 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light1 Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   The color of the first light source.
  </dd>
 </dl>
 <h3>
  Light2 Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light2 Enable:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Enables the second light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light2 Dir:
   </b>
   <i>
    X &amp; Y,  Default:
   </i>
   screen upper right.
   <br/>
   The x and y position of the second light source.  This parameter can be adjusted using the Light2 Dir Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light2 Z:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   any.
   <br/>
   The z position of the second light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Diffuse Bright 2:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0.1 or greater.
   <br/>
   Scales the diffuse brightness for Light 2 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Bright 2:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the specular highlights for Light 2 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Size 2:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Adjusts the size of the specular highlights for Light 2 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light2 Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   The color of the second light source.
  </dd>
 </dl>
 <h3>
  Light3 Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light3 Enable:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Enables the third light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light3 Dir:
   </b>
   <i>
    X &amp; Y,  Default:
   </i>
   screen lower left.
   <br/>
   The x and y position of the third light source.  This parameter can be adjusted using the Light3 Dir Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light3 Z:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   any.
   <br/>
   The z position of the third light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Diffuse Bright 3:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0.1 or greater.
   <br/>
   Scales the diffuse brightness for Light 3 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Bright 3:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the specular highlights for Light 3 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Size 3:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Adjusts the size of the specular highlights for Light 3 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light3 Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   The color of the third light source.
  </dd>
 </dl>
 <h3>
  Light4 Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light4 Enable:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Enables the fourth light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light4 Dir:
   </b>
   <i>
    X &amp; Y,  Default:
   </i>
   screen lower right.
   <br/>
   The x and y position of the fourth light source.  This parameter can be adjusted using the Light4 Dir Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light4 Z:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   any.
   <br/>
   The z position of the fourth light source.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Diffuse Bright 4:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0.1 or greater.
   <br/>
   Scales the diffuse brightness for Light 4 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Bright 4:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the specular highlights for Light 4 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hilight Size 4:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Adjusts the size of the specular highlights for Light 4 only.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Light4 Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   The color of the fourth light source.
  </dd>
 </dl>
 <h3>
  Normal Mapping Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Normal Offset:
   </b>
   <i>
    Default:
   </i>
   -0.5,
   <i>
    Range:
   </i>
   any.
   <br/>
   Added to the values in the Normal input.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Normal X &lt;-:
   </b>
   <i>
    Popup menu,  Default: Red
   </i>
   .
   <br/>
   Determines which color channel is used for the horizontal component of the
                 normal vectors.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Red:
      </i>
     </b>
     Use Red channel.
     <br/>
     <dd>
      <b>
       <i>
        Green:
       </i>
      </b>
      Use Green channel.
      <br/>
      <dd>
       <b>
        <i>
         Blue:
        </i>
       </b>
       Use Blue channel.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Normal Y &lt;-:
   </b>
   <i>
    Popup menu,  Default: Green
   </i>
   .
   <br/>
   Determines which color channel is used for the vertical component of the
                 normal vectors.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Red:
      </i>
     </b>
     Use Red channel.
     <br/>
     <dd>
      <b>
       <i>
        Green:
       </i>
      </b>
      Use Green channel.
      <br/>
      <dd>
       <b>
        <i>
         Blue:
        </i>
       </b>
       Use Blue channel.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Normal Z &lt;-:
   </b>
   <i>
    Popup menu,  Default: Blue
   </i>
   .
   <br/>
   Determines which color channel is used for the depth component of the
                 normal vectors.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Red:
      </i>
     </b>
     Use Red channel.
     <br/>
     <dd>
      <b>
       <i>
        Green:
       </i>
      </b>
      Use Green channel.
      <br/>
      <dd>
       <b>
        <i>
         Blue:
        </i>
       </b>
       Use Blue channel.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert X:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If checked, inverts the horizontal compononent of the normal vectors.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Y:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If checked, inverts the vertical compononent of the normal vectors.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Z:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If checked, inverts the depth compononent of the normal vectors.
  </dd>
 </dl>
 <h3>
  Mask Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mask:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mask input by this amount before using.  This
can provide a smoother transition between the masked and unmasked
areas.  It has no effect unless the Mask input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mask:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If on, inverts the mask input so the effect is applied
to areas where the Mask is black instead of white.  This has no effect
unless the Mask input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mask Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines how the Mask input channels are used to make a
monochrome mask.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used, or if there is no
valid Alpha channel the Red channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#title-key">
  Apply To Title/Key
 </a>
 ,
 <a href="../general-info#transform">
  Crop/Transform
 </a>
 ,
 <a href="../general-info#other-params">
  Resolution
 </a>
 ,
 <a href="../general-info#other-params">
  Clamp Output To Legal
 </a>
 ,
 <a href="../general-info#other-params">
  Bypass Effect
 </a>
 , and
 <a href="../general-info#reset-defaults">
  Reset
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../emboss">
       Emboss
      </a>
      <br/>
      <a href="../embossshiny">
       EmbossShiny
      </a>
      <br/>
      <a href="../spotlight">
       SpotLight
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
