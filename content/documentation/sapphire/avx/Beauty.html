{
   "title": "Sapphire Plug-ins for AVX2: Beauty",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/Beauty.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="Beauty">
     <h2>
      S_Beauty
     </h2>
    </a>
    Applies smoothing, color correction, soft focus, and glow to skin regions.  Skin regions are determined
in one of four ways depending on the value of Enable Skin Detection and whether a second input is provided:
    <ol>
     <li>
      Enable Skin Detection
      <b>
       OFF
      </b>
      , no second input: effect applies to the entire image.
     </li>
     <li>
      Enable Skin Detection
      <b>
       ON
      </b>
      , no second input: an internal mask is generated using the specified Skin Color,
        Luma and Chroma Range parameters.
     </li>
     <li>
      Enable Skin Detection
      <b>
       OFF
      </b>
      , second input provided: The second input is used as an external mask. Effect
    applies to bright areas of the mask (to apply to dark areas, see the Invert Mask parameter).
     </li>
     <li>
      Enable Skin Detection
      <b>
       ON
      </b>
      , second input provided: An internal mask is generated and multiplied by the
    external mask.
     </li>
    </ol>
    <p>
     In the Sapphire Blur+Sharpen category.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      <i>
       The current track.
      </i>
      The clip to be processed.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       Optional.
      </i>
      The clip to use as background.  The output of the effect is composited over this clip.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Mask:
      </b>
      <i>
       Optional.
      </i>
      Garbage mask to combine with internal skin detection.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/Beauty.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Enable Skin Detection:
   </b>
   <i>
    Check-box,  Default:
   </i>
   on.
   <br/>
   Generate internal mask of skin regions based on Skin Color, Luma and Chroma Range, etc.
When disabled, effect applies uniformly to masked input (see description above for full details).
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Skin Color:
   </b>
   <i>
    Default rgb:
   </i>
   [0.749 0.498 0.345].
   <br/>
   Representative skin color to use during detection.  This parameter can be adjusted using the Skin Color Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Luma Range:
   </b>
   <i>
    Default:
   </i>
   0.4,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Difference in luma from Skin Color to consider skin.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Chroma Range:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Difference in chroma from Skin Color to consider skin.  This parameter can be adjusted using the Chroma Range Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rel Orange:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Relative amount of orange in Chroma Range.  The orange axis is along the human skin tone line
common to all the human races, and is also known as the I-line in vectorscope terminology.  Reducing this parameter
can help eliminate blond or red hair (and similar highlights in other hair colors), some red/orange/yellow sports
uniforms, warm backgrounds, etc. from the skin mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rel Purple:
   </b>
   <i>
    Default:
   </i>
   0.3,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Relative amount of purple in Chroma Range.  The purple axis is perpendicular to the orange axis,
and is thus most un-skin-like.  In most cases this parameter can be made smaller to eliminate lips, eyes, clothing,
and jewelry from the skin mask.  Increase this parameter to add purple and green shades to the skin detect mask, for
example eye shadow, bad lighting, or alien skin tones (i.e. non-human).
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Range Softness:
   </b>
   <i>
    Default:
   </i>
   0.25,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the softness of the skin detection mask.  A value of one means only pixels that
exactly match Skin Color will produce a mask value of one with each other pixel's mask value being proportional
to its distance from Skin Color.  A value of zero means a hard mask where all pixels within the luma/chroma range
of the Skin Color will produce a mask value of one.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Clip White:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Skin detection mask values greater than this value will be set to one.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Clip Black:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Skin detection mask values less than this value will be set to zero.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Post Blur:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blur the skin detection mask by this amount.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show:
   </b>
   <i>
    Popup menu,  Default: Final
   </i>
   .
   <br/>
   Selects the type of output.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Final:
      </i>
     </b>
     Show the final output.
     <br/>
     <dd>
      <b>
       <i>
        Skin Detect Mask:
       </i>
      </b>
      Show the mask generated by the internal skin detector.
      <br/>
      <dd>
       <b>
        <i>
         With Mask Input:
        </i>
       </b>
       Show the combined result of the input mask and the internal skin detector mask.
       <br/>
       <dd>
        <b>
         <i>
          Skin:
         </i>
        </b>
        Show result of applying skin detection mask to source.
        <br/>
        <dd>
         <b>
          <i>
           Skin with Mask Input:
          </i>
         </b>
         Show the result of applying the combined input mask and the internal
skin detector mask to the Source.
         <br/>
        </dd>
       </dd>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Color Helper:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Display an interactive overlay to help set Skin Color, Chroma Range, Rel Orange, and
Rel Purple.  The overlay shows all possible colors that match the brightness (luma) of the Skin Color parameter.
Orange is in the upper left corner, and purple is in the upper right (this orientation is similar to a
traditional broadcast vectorscope).  Colors matching the skin detection algorithm are highlighted.  Changing Skin
Color will move the highlighted region, adjusting Chroma Range changes the size of the highlighted region, and
adjusting Rel Orange/Purple stretches the region along the diagonals of the square.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mask Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines how the Mask input channels are used to make a
monochrome mask.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used, or if there is no
valid Alpha channel the Red channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mask:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mask input by this amount before using.  This
can provide a smoother transition between the masked and unmasked
areas.  It has no effect unless the Mask input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mask:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If on, inverts the mask input so the effect is applied
to areas where the Mask is black instead of white.  This has no effect
unless the Mask input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Suppress BG:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Only apply Beauty to the region specified by Face Center and related params.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Face Center:
   </b>
   <i>
    X &amp; Y,  Default:
   </i>
   screen center.
   <br/>
   Center position of face region when Suppress BG is enabled.  This parameter can be adjusted using the Face Center Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Face Softness:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Makes the face region softer when Suppress BG is enabled.  This will provide
  a smoother transition from the face region to the background, but also possibly reduce the
  strength of Beauty in the face region.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Face Radius:
   </b>
   <i>
    Default:
   </i>
   0.4,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Size of face region when Suppress BG is enabled.  This parameter can be adjusted using the Face Radius Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Face Rel Height:
   </b>
   <i>
    Default:
   </i>
   1.33,
   <i>
    Range:
   </i>
   0.05 or greater.
   <br/>
   Relative height of face region when Suppress BG is enabled.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Face Rotate:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   any.
   <br/>
   Rotation of face region when Suppress BG is enabled.  This parameter can be adjusted using the Face Rotate Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Face Widget:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Display an interactive overlay to assist in placing and sizing the face region.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Pore Size:
   </b>
   <i>
    Default:
   </i>
   0.01,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Features smaller than this size (pores, etc.) will be preserved even when blurring.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Amount:
   </b>
   <i>
    Default:
   </i>
   0.02,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the width of the blur.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Edge Threshold:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Color regions separate by an edge larger than this value will not blur into
each other.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Soften Shadows:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   -1 to 1.
   <br/>
   Postive values reduce the appearance of shadows, while negative values make
  shadows more pronounced.  Reducing shadows can make the subject look younger, while darkening
  shadows will make them look older.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shadow Thresh:
   </b>
   <i>
    Default:
   </i>
   0.6,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Dark regions less than this value will be enhanced/reduced by Soften Shadows.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Reduce Shine:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Darken bright, shiny areas.  The darkening process can lead to a lack of
  color, use Shine Saturation to bring back a natural skin tone in the affected region.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shine Saturation:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the color saturation in bright regions.  Useful for adding a
  natural skin tone to shiny areas that required darkening.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shine Thresh:
   </b>
   <i>
    Default:
   </i>
   0.9,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Regions brighter than this value will be affected by Reduce Shine.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Hue Shift:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   any.
   <br/>
   Shifts the hue of the source colors, in revolutions
  from red to green to blue to red.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Saturation:
   </b>
   <i>
    Default:
   </i>
   1.2,
   <i>
    Range:
   </i>
   -2 to 8.
   <br/>
   Scales the color saturation of the result.  Increase
  for more intense colors.  Set to 0 for monochrome.  You can also
  invert the chroma of the result by making this negative.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Brightness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Tint:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   Scales the result by this color, thus tinting the
  lighter regions.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Soft Focus:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the width of the soft focus blur.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Brightness:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the skin glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   Scales the color the skin glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Threshold:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Glows are generated from locations in the skin regions
  that are brighter than this value.  A value of 0.9 causes glows at
  only the brightest spots.  A value of 0 causes glows for every
  non-black area.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the skin glow distance.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mix With Source:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Interpolates between the blurred result (0) and
  the original source (1).  0.1 can give a nice misty effect since it
  mixes only a little of the source in.
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#title-key">
  Apply To Title/Key
 </a>
 ,
 <a href="../general-info#transform">
  Crop/Transform
 </a>
 ,
 <a href="../general-info#other-params">
  Resolution
 </a>
 ,
 <a href="../general-info#other-params">
  Clamp Output To Legal
 </a>
 ,
 <a href="../general-info#other-params">
  Bypass Effect
 </a>
 , and
 <a href="../general-info#reset-defaults">
  Reset
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
      <a href="../edgeawareblur">
       EdgeAwareBlur
      </a>
      <br/>
      <a href="../huesatbright">
       HueSatBright
      </a>
      <br/>
      <a href="../softfocus">
       SoftFocus
      </a>
      <br/>
      <a href="../glow">
       Glow
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../rackdefocus">
       RackDefocus
      </a>
      <br/>
      <a href="../defocusprism">
       DefocusPrism
      </a>
      <br/>
      <a href="../edgeblur">
       EdgeBlur
      </a>
      <br/>
      <a href="../bandpass">
       BandPass
      </a>
      <br/>
      <a href="../blurmotion">
       BlurMotion
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
