{
   "title": "Sapphire Plug-ins for AVX2: MakeRGBA",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/MakeRGBA.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="MakeRGBA">
     <h2>
      S_MakeRGBA
     </h2>
    </a>
    Combines an RGB input with a Matte input to make a
  single RGBA output.  This plug-in is only needed in special
  circumstances, and for conforming from v1.  In most cases it is not
  needed because in v2 you can now apply any effect to a title or key
  directly.
    <p>
     It is useful if you have imported a matte and
  fill as separate clips, and you want to combine them to be processed
  by other Sapphire plug-ins.  You can also invert the matte, and use
  various compositing options.
    </p>
    <p>
     It assumes the Matte input has
  CCIR601 levels, so it makes video black completely opaque and video
  white transparent.
    </p>
    <p>
     For more information, check the documentation
  for
     <a href="../general-info#alpha">
      Alpha Processing
     </a>
     and
     <a href="../general-info#title-key">
      Processing Titles and
  Keys
     </a>
     .
    </p>
    <p>
     In the Sapphire Composite category.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Matte:
      </b>
      <i>
       Selectable.
      </i>
      Makes the alpha channel from this input clip.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Foreground:
      </b>
      <i>
       Selectable.
      </i>
      Uses the RGB from this input clip.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       Optional.
      </i>
      This input is ignored by default.  However you can
  enable it to composite the Foreground input over the Background
  using the Matte.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/MakeRGBA.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Matte Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines how the Matte input channels are used to make
a monochrome matte.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used, or if there is no
valid Alpha channel the Red channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Matte:
   </b>
   <i>
    Check-box,  Default:
   </i>
   on.
   <br/>
   If enabled, the black and white of the Matte clip
  are inverted before combining with the RGB clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Comp Premult:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled and the Background input is present and
  selected, the foreground is composited over the background using a
  premultiplied (additive) composite.  If this parameter is disabled
  then the composite is non-premultiplied (straight).  If no
  Background input is present, this parameter's value is ignored.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Output Premult:
   </b>
   <i>
    Check-box,  Default:
   </i>
   on.
   <br/>
   If enabled, the RGB clip is multiplied by the
  Matte clip before combining and/or compositing.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Alpha Black Level:
   </b>
   <i>
    Integer,  Default:
   </i>
   16,
   <i>
    Range:
   </i>
   0 to 255.
   <br/>
   The pixel value in the alpha source that will be interpreted as full black.  For CCIR601 levels (Avid standard for 8 bit images), 16 is black and values below 16 are superblacks.  If your alpha clip has superblacks and superwhites, use 0 and 255 for alpha black and white levels.  16 bit images generally are imported with 0 and 255 as black and white, so use 0 and 255 in that case as well.  If you notice some of your foreground or background bleeding through where the alpha should be fully opaque or transparent, adjust these params to clean that up.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Alpha White Level:
   </b>
   <i>
    Integer,  Default:
   </i>
   235,
   <i>
    Range:
   </i>
   0 to 255.
   <br/>
   The pixel value in the alpha source that will be interpreted as full white.  For CCIR601 levels (Avid standard for 8 bit images), 235 is white and values above 235 are superwhites.  If your alpha clip has superblacks and superwhites, use 0 and 255 for alpha black and white levels.  16 bit images generally are imported with 0 and 255 as black and white, so use 0 and 255 in that case as well.  If you notice some of your foreground or background bleeding through where the alpha should be fully opaque or transparent, adjust these params to clean that up.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the alpha channel by this amount to adjust the transparency
  of the Foreground clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Scale Lights:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the Foreground by this amount.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Offset Darks:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   any.
   <br/>
   Adds this gray value to the darker regions of
  the Foreground.  This can be negative to increase contrast.
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#other-params">
  Resolution
 </a>
 ,
 <a href="../general-info#other-params">
  Clamp Output To Legal
 </a>
 ,
 <a href="../general-info#other-params">
  Bypass Effect
 </a>
 , and
 <a href="../general-info#reset-defaults">
  Reset
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../layer">
       Layer
      </a>
      <br/>
      <a href="../matteops">
       MatteOps
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
