{
   "title": "Sapphire Plug-ins for After Effects: ZapTo",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/ZapTo.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="ZapTo">
     <h2>
      S_ZapTo
     </h2>
    </a>
    Generates a forked lightning bolt from a given point to the edges of objects
  in the ToObject input clip, and renders it over a background input.  Use
  the Show:Edges option to view the target edges while adjusting the Threshold
  and Blur To Obj parameters.
    <p>
     In the Sapphire Render effects submenu.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       The current layer.
      </i>
      The clip to use as background.  If none is selected
  the main input (the current layer) is also used for the background.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       ToObject:
      </b>
      <i>
       Defaults to None.
      </i>
      The edges of objects in this clip are extracted, and the
  lightning connects to points along these edges facing towards the
  starting point.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Mask:
      </b>
      <i>
       Defaults to None.
      </i>
      If provided, this input is used to control which edges are used to attract the lightning.
  Edges found in black areas will not be used.  Edges found in white areas will be used
  as normal.  Edges found in grey areas will be scaled down.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/ZapTo.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Project:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Surface Points:
   </b>
   <i>
    Integer,  Default:
   </i>
   10,
   <i>
    Range:
   </i>
   1 to 500.
   <br/>
   The number of points along the edges to connect
  the lightning to.  These surface points are divided up amongst the
  shapes in the ToObject input.  If the number of requested surface
  points is equal to the number of separate shapes in the ToObject input,
  one lightning fork will connect to each.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bolts:
   </b>
   <i>
    Integer,  Default:
   </i>
   1,
   <i>
    Range:
   </i>
   1 to 200.
   <br/>
   The number of independent forked lightning bolts to draw,
  each connecting the Start position with the edge points.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Start:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   The starting position of the lightning.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Max Dist:
   </b>
   <i>
    Default:
   </i>
   2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The maximum distance of surface points from the Start
  position.  Edges outside this distance are ignored.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Threshold:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The value used to determine the edge locations.
  Objects darker than this value are ignored.  On smooth objects,
  larger threshold values move the edges inwards to make smaller
  shapes, and smaller values move the edges outwards.  You can use the
  Show Edges option to view the edge image directly while adjusting
  this parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur ToObj:
   </b>
   <i>
    Default:
   </i>
   0.0224,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the ToObject input clip before finding the edges.
  This can help remove noise, and reduce the number of separate
  shapes.  You can use the Show Edges option to view the edge image
  directly while adjusting this parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    ToObj Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines which channel of the ToObject input channels are used.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show:
   </b>
   <i>
    Popup menu,  Default: Result
   </i>
   .
   <br/>
   Selects what the effect will output.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Result:
      </i>
     </b>
     shows the normal lightning result over the background.
     <br/>
     <dd>
      <b>
       <i>
        Edges:
       </i>
      </b>
      shows the target edge image.  This can be useful to view
  while adjusting the Threshold and Blur To Obj parameters.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bolt Width:
   </b>
   <i>
    Default:
   </i>
   0.07,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The width of the lightning bolts.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Width:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The amount of random variation in the width of the
bolts along their lengths.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    End Pointiness:
   </b>
   <i>
    Default:
   </i>
   0.25,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Determines how pointed the end of the bolts are.
If 0, the entire bolt will have equal width.  If 1, the bolts will
thin out along their entire length for a pointed end.  If it is .5,
the bolts will start thinning out half way between the start and
end points.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Wiggle Start:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   By default the bolts automatically wiggle over time.
This parameter provides a starting offset for these bolt
perturbations.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Wiggle Speed:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The speed at which the bolts are perturbed
automatically over time.  To animate changes in speed, set this
to zero and animate the Wiggle Start parameter instead.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Jitter Frames:
   </b>
   <i>
    Integer,  Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If this is 0, the same random lightning will be
used for every frame processed.  If it is 1, different random
lightning is used for each frame.  If it is 2, new random lightning is
used for every other frame, and so on.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rand Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Used to initialize the random number generator.  The
actual seed value is not significant, but different seeds give
different random lightning bolts, and the same value should give a
repeatable result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Wrinkle Amp:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the amount of wrinkles in the bolts.  Decrease
for straighter smoother bolts or increase for more kinky bolts.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Branchiness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 20.
   <br/>
   Scales the number of additional bolts that branch
from the main bolt.  Set this to 0 for basic bolts with no extra
branches.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Branch Angle:
   </b>
   <i>
    Default:
   </i>
   65,
   <i>
    Range:
   </i>
   0 to 180.
   <br/>
   The maximum angle of the random branches relative to
the bolt they are branching off of.  If this is 0 the branches will be
more lined up with the main bolt.  With larger values the branches will
be more perpendicular to the main bolt.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Branch Length:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 to 3.
   <br/>
   The scaled length of the branches relative to the
distance between the Start and End points.
  </dd>
 </dl>
 <h3>
  Glow Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Bright:
   </b>
   <i>
    Default:
   </i>
   2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the glow applied to the lightning.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Color:
   </b>
   <i>
    Default rgb:
   </i>
   [0.5 0.5 1].
   <br/>
   The color of the glow applied to the lightning.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width:
   </b>
   <i>
    Default:
   </i>
   0.224,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The width of the glow applied to the lightning.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width Red:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative red width of the glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width Grn:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative green width of the glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Glow Width Blue:
   </b>
   <i>
    Default:
   </i>
   1.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative blue width of the glow.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Affect Alpha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If this value is positive the output Alpha channel will
  include some opacity from the lightning and its glow.  The maximum
  of the red, green, and blue brightness is scaled by this value and
  combined with the background Alpha at each pixel.
  </dd>
 </dl>
 <h3>
  Other Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Zap Bright:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the lightning bolts.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Zap Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   The color of the lightning.  If you want to keep the
  lightning bolt itself bright white, you can still affect the
  perceived color by adjusting the Glow Color instead.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Start Offset:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The offset from the start point to begin drawing the
bolts.  This can be useful for animating a lightning strike.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Length:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   The length of the bolts, beginning at Start Offset.  If
less than 1, the bolts will not be drawn all the way from start to end.
This can be useful for animating a lightning strike.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bg Brightness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the background before
combining with the lightning.  If 0, the result will contain only the
lightning image over black.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine:
   </b>
   <i>
    Popup menu,  Default: Screen
   </i>
   .
   <br/>
   Determines how the lightning and glow are combined with the Background.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Screen:
      </i>
     </b>
     performs a blend function which can help prevent
  overly bright results.
     <br/>
     <dd>
      <b>
       <i>
        Add:
       </i>
      </b>
      causes the lightning to be added to the background.  This gives
  brighter glows over light backgrounds.
      <br/>
      <dd>
       <b>
        <i>
         Zap Only:
        </i>
       </b>
       displays the lightning over black, ignoring the source image.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Matte:
   </b>
   <i>
    Default:
   </i>
   0.05,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Matte input by this amount before using.  This
can provide a smoother transition between the matted and unmatted
areas.  It has no effect unless the Matte input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Matte:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If on, inverts the Matte input so the effect is applied
to areas where the Matte is black instead of white.  This has no effect
unless the Matte input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Matte Use:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   Determines how the Matte input channels are used to make
a monochrome matte.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     the luminance of the RGB channels is used.
     <br/>
     <dd>
      <b>
       <i>
        Alpha:
       </i>
      </b>
      only the Alpha channel is used.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Amp:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Atmosphere gives the effect of the zap shining through
  a dusty atmosphere and picking up light or getting shadowed.
  This parameter adjusts the amount, or amplitude, of the atmospheric
  effect.  Zero gives a smooth zap, higher values give more dusty look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Freq:
   </b>
   <i>
    Default:
   </i>
   2,
   <i>
    Range:
   </i>
   0.1 to 20.
   <br/>
   Controls the spatial frequency of the atmospheric
  noise.  Turn this up higher to get finer details, turn down for
  broader overall variation.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Detail:
   </b>
   <i>
    Default:
   </i>
   0.7,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the amount of fine detail in the
  atmosphere simulation.  Decrease to get smoother atmosphere,
  increase for a more crunchy or grainy look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Used to initialize the random number generator for
  the atmospheric noise.  The actual seed value is not significant, but
  different seeds give different results and the same value should
  give a repeatable result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Speed:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   any.
   <br/>
   The cloudy noise in the atmosphere evolves over
  time like real dust clouds; this parameter controls how fast the
  cloud pattern changes over time.  Set to zero for a static pattern.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Opacity:
   </b>
   <i>
    Popup menu,  Default: Normal
   </i>
   .
   <br/>
   Determines the method used for dealing with
opacity/transparency.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       All Opaque:
      </i>
     </b>
     Use this option to render slightly faster when
the input image is fully opaque with no transparency (alpha=1).
     <br/>
     <dd>
      <b>
       <i>
        Normal:
       </i>
      </b>
      Process opacity normally.
      <br/>
      <dd>
       <b>
        <i>
         As Premult:
        </i>
       </b>
       Process as if the image is already in
premultiplied form (colors have been scaled by opacity).  This option
also renders slightly faster than Normal mode, but the results will
also be in premultiplied form, which is sometimes less correct.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Max Dist:
   </b>
   <i>
    Check-box, Default:
   </i>
   on.
   <br/>
   Turns on or off the screen user interface for adjusting the
Start parameter.This parameter only appears on AE and Premiere,
where on-screen widgets are supported.
  </dd>
 </dl>
 See general info for
 <a href="../general-info#motion-blur">
  Motion Blur
 </a>
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../zap">
       Zap
      </a>
      <br/>
      <a href="../zapfrom">
       ZapFrom
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
