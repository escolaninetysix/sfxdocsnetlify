{
   "title": "Sapphire Plug-ins for After Effects: Rays",
   "date": "2022-11-17T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/Rays.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="Rays">
     <h2>
      S_Rays
     </h2>
    </a>
    Generates beams of light emitting from the bright areas of
  the source clip.  Lower the Threshold parameter to generate rays from
  more areas or raise it to generate rays from only the brightest
  areas.  Set the Rays Res parameter to 1/2 for faster rendering with
  slightly softer rays.
    <p>
     In the Sapphire Lighting effects submenu.
    </p>
    <p>
     <br/>
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      <i>
       The current layer.
      </i>
      The clip to be processed.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Background:
      </b>
      <i>
       Defaults to None.
      </i>
      The clip to use as background.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Matte:
      </b>
      <i>
       Defaults to None.
      </i>
      If provided, the ray colors are scaled by this
  input.  A monochrome matte can be used to choose a subset of areas
  that will generate rays.  If the Matte Type is set to
  Color, a color matte input can be used to selectively adjust
  the ray colors in different regions.  This input can optionally be
  blurred or inverted using the Blur Matte or Invert Matte parameters.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#303030" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/Rays.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mode:
   </b>
   <i>
    Popup menu,  Default: Light Rays
   </i>
   .
   <br/>
   Selects between light and dark rays.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Light Rays:
      </i>
     </b>
     Generates beams of light emitting from the bright areas of the source.
     <br/>
     <dd>
      <b>
       <i>
        Dark Rays:
       </i>
      </b>
      Generates beams of darkness emitting from the dark areas of the source.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Project:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Mocha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   Scales the Mocha Mask.  1.0 is the original size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative horizontal size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Resize Rel Y:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 2.
   <br/>
   The relative vertical size of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Mocha:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Offsets the position of the Mocha Mask.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Center:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   The location from which the rays beam outwards.  This parameter can be adjusted using the Center Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Center Uses Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   Controls whether the center is controlled by the Center parameter or follows
  the Center tracked inside of Mocha.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Smooth Center Track:
   </b>
   <i>
    Integer,  Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Controls how many points to average when stabilizing the Mocha point track.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays Length:
   </b>
   <i>
    Default:
   </i>
   0.25,
   <i>
    Range:
   </i>
   -5 to 1.
   <br/>
   The length of the rays.  A length of 1.0
  gives rays that continue forever, although they may still
  fade out as they go.  To make the rays look longer you can also
  increase the Bias Outer Bright parameter.  If Rays Length is negative
  the rays can beam inwards instead of outwards.  Note that processing
  times increase for longer rays.  This parameter can be adjusted using the Center Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Length Red:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative length of the red channel of the rays.
  Adjust this, along with Length Green and Length Blue, to create
  color fringing effects.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Length Green:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative length of the green channel of the rays.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Length Blue:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative length of the blue channel of the rays.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Reverse Rays:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Extend rays inward as well as outward. The length of
  the reversed rays is controlled by Rays Length as well as this parameter.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays Brightness:
   </b>
   <i>
    Default:
   </i>
   3,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the ray beams.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays Darkness:
   </b>
   <i>
    Default:
   </i>
   3,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the intensity of the dark ray beams.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Rays:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blur the rays only, before applied to the Source image.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Rays Rel:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [1 1],
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The relative horizontal and vertical blur
  widths applied to the rays.  Set Blur Rays Rel X to 0 for a vertical-only blur, or set Blur
  Rays Rel Y to 0 for a horizontal-only blur.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 1].
   <br/>
   Scales the color of the ray beams.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays Color:
   </b>
   <i>
    Default rgb:
   </i>
   [0 0 0].
   <br/>
   Scales the color of the ray beams.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bias Outer Bright:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Determines the variable amount of brightness
  along the rays.  This is normally near 0 so the rays fade away at
  their outer ends, 0.5 causes equal brightness along the rays, and 1.0
  causes maximum brightness at the ends.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays Res:
   </b>
   <i>
    Popup menu,  Default: Full
   </i>
   .
   <br/>
   Selects the resolution factor for the rays.  Higher
  resolutions give sharper rays, lower resolutions give smoother rays
  and faster processing.  This 'Res' factor only affects the rays: the
  background is still combined with the rays at full resolution.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Full:
      </i>
     </b>
     Full resolution is used.
     <br/>
     <dd>
      <b>
       <i>
        Half:
       </i>
      </b>
      The rays are calculated at half resolution.
      <br/>
      <dd>
       <b>
        <i>
         Quarter:
        </i>
       </b>
       The rays are calculated at quarter resolution.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Threshold:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Rays are generated from locations in the source clip
  that are brighter than this value.  A value of 0.9 causes rays at
  only the brightest spots.  A value of 0 causes rays for every
  non-black area.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Threshold Add Color:
   </b>
   <i>
    Default rgb:
   </i>
   [0 0 0].
   <br/>
   This can be used to raise the threshold on a
  specific color and thereby reduce the rays generated on areas of the
  source clip containing that color.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shimmer Amp:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Modulates the ray source image with this amount of
  noise texture to give the rays a shimmering look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shimmer Freq:
   </b>
   <i>
    Default:
   </i>
   40,
   <i>
    Range:
   </i>
   0.1 or greater.
   <br/>
   The frequency of the shimmer texture.  Increase for
  a finer grained shimmer effect, decrease for larger, softer shimmer.
  This has no effect unless Shimmer Amp is positive.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shimmer Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Used to initialize the random number generator for
  the shimmer texture.  The actual seed value is not significant, but
  different seeds give different results and the same value should
  give a repeatable result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shimmer Shift:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Translation of the shimmer texture.  This has no
  effect unless Shimmer Amp is positive.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shimmer Speed:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Translation speed of the shimmer texture.  If
  non-zero, the shimmering is automatically animated to shift at this
  rate.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Amp:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Atmosphere gives the effect of rays shining through
  a dusty atmosphere and picking up light or getting shadowed.
  This parameter adjusts the amount, or amplitude, of the atmospheric
  effect.  Zero gives smooth rays, higher values give more dusty look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Freq:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0.1 to 20.
   <br/>
   Controls the spatial frequency of the atmospheric
  noise.  Turn this up higher to get finer details, turn down for
  broader overall variation.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Detail:
   </b>
   <i>
    Default:
   </i>
   0.6,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the amount of fine detail in the
  atmosphere simulation.  Decrease to get smoother atmosphere,
  increase for a more crunchy or grainy look.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Atmosphere Speed:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   any.
   <br/>
   The cloudy noise in the atmosphere evolves over
  time like real dust clouds; this parameter controls how fast the
  cloud pattern changes over time.  Set to zero for a static pattern.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Affect Alpha:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If this value is positive the output Alpha channel will
  include some opacity from the rays.  The maximum of the red, green,
  and blue ray brightness is scaled by this value and combined with
  the background Alpha at each pixel.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays From Alpha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Set to 1 to generate rays from the source's alpha
  channel instead of its RGB channels.  This will typically cause many
  more rays to be generated.  Values between 0 and 1 interpolate
  between using the RGB and the Alpha.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rays Under Source:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Set to 1 to composite the Source input over the rays.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Source Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Scales the opacity of the Source input when
  combined with the rays.  This does not affect the generation
  of the rays themselves.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bg Brightness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the brightness of the background before combining with the rays.
  This parameter only has an effect if the background input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Use Source Chroma:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   If this is 1, the chroma of the Source input
  affects the chroma of the resulting rays.  If it is 0, only the
  brightness of the Source input affects the brightness of the rays,
  and the rendering speed should also be faster.  Values between 0 and
  1 interpolate between these two options.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Matte Type:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   This setting is ignored unless the Matte input is provided.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     uses the luminance of the Matte input to scale the brightness of the rays.
     <br/>
     <dd>
      <b>
       <i>
        Color:
       </i>
      </b>
      uses the RGB channels of the Matte input to scale the colors of the rays.
      <br/>
      <dd>
       <b>
        <i>
         Alpha:
        </i>
       </b>
       uses the alpha channel of the Matte input to scale the brightness of the rays.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Matte:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Matte input by this amount before using.  This
can provide a smoother transition between the matted and unmatted
areas.  It has no effect unless the Matte input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Matte:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If on, inverts the Matte input so the effect is applied
to areas where the Matte is black instead of white.  This has no effect
unless the Matte input is provided.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Opacity:
   </b>
   <i>
    Popup menu,  Default: Normal
   </i>
   .
   <br/>
   Determines the method used for dealing with
opacity/transparency.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       All Opaque:
      </i>
     </b>
     Use this option to render slightly faster when
the input image is fully opaque with no transparency (alpha=1).
     <br/>
     <dd>
      <b>
       <i>
        Normal:
       </i>
      </b>
      Process opacity normally.
      <br/>
      <dd>
       <b>
        <i>
         As Premult:
        </i>
       </b>
       Process as if the image is already in
premultiplied form (colors have been scaled by opacity).  This option
also renders slightly faster than Normal mode, but the results will
also be in premultiplied form, which is sometimes less correct.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Center:
   </b>
   <i>
    Check-box, Default:
   </i>
   on.
   <br/>
   Turns on or off the screen user interface widget
  for adjusting the Center and Rays Length parameters.This parameter only appears on AE and Premiere,
where on-screen widgets are supported.
  </dd>
 </dl>
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../edgerays">
       EdgeRays
      </a>
      <br/>
      <a href="../streaks">
       Streaks
      </a>
      <br/>
      <a href="../blurmotion">
       BlurMotion
      </a>
      <br/>
      <a href="../warpchroma">
       WarpChroma
      </a>
      <br/>
      <a href="../edgedetect">
       EdgeDetect
      </a>
      <br/>
      <a href="../glow">
       Glow
      </a>
      <br/>
      <a href="../glowdarks">
       GlowDarks
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
