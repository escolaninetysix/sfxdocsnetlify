{
   "title": "Sapphire Plug-ins for Autodesk: BokehLights",
   "date": "2018-12-13T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/BokehLights.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="BokehLights">
     <h2>
      BokehLights
     </h2>
    </a>
    Generates random, defocused lights that move around the screen.
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      The clip to be processed.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#404040" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/BokehLights.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Color:
   </b>
   <i>
    Default rgb:
   </i>
   [1 1 0.3].
   <br/>
   The overall color of the lights.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Brightness:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The overall brightness of the lights.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Hue:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Randomly varies the hue of each light.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Saturation:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Randomly varies the saturation of each light.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Brightness:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Randomly varies the brightness of each light.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Seed:
   </b>
   <i>
    Default:
   </i>
   0.123,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Initializes the random number generator for light
    positioning, size, and color variation.  The actual seed value is
    not significant, but different seeds give different results and
    the same value should give a repeatable result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine:
   </b>
   <i>
    Popup menu,  Default: Screen
   </i>
   .
   <br/>
   Determines how the lights are combined with the Source clip.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Screen:
      </i>
     </b>
     performs a blend function which can help prevent
    overly bright results.
     <br/>
     <dd>
      <b>
       <i>
        Add:
       </i>
      </b>
      the lights are added to the source.
      <br/>
      <dd>
       <b>
        <i>
         Lights Only:
        </i>
       </b>
       gives only the lights with no background.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Size:
   </b>
   <i>
    Default:
   </i>
   0.3,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The overall size of the defocused lights.  This parameter can be adjusted using the Size Widget.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rel Height:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0.01 or greater.
   <br/>
   The relative height of the iris shape.  If it
  is not 1, circles become ellipses, etc.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Vary Size:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Randomly varies the size of the lights, to simulate lights that
    are at different distances from the camera.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Softness:
   </b>
   <i>
    Default:
   </i>
   0.01,
   <i>
    Range:
   </i>
   0.001 or greater.
   <br/>
   The softness of the light sources. Increase this for blurrier lights.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Lights:
   </b>
   <i>
    Integer,  Default:
   </i>
   30,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The number of lights.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shape:
   </b>
   <i>
    Popup menu,  Default: 7 sides
   </i>
   .
   <br/>
   Determines the shape of the simulated camera iris.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Circle:
      </i>
     </b>
     round.
     <br/>
     <dd>
      <b>
       <i>
        3 sides:
       </i>
      </b>
      triangle.
      <br/>
      <dd>
       <b>
        <i>
         4 sides:
        </i>
       </b>
       square.
       <br/>
       <dd>
        <b>
         <i>
          5 sides:
         </i>
        </b>
        pentagon.
        <br/>
        <dd>
         <b>
          <i>
           6 sides:
          </i>
         </b>
         hexagon.
         <br/>
         <dd>
          <b>
           <i>
            7 sides:
           </i>
          </b>
          etc.
          <br/>
         </dd>
        </dd>
       </dd>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Drift Speed:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The speed at which lights move around the screen.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Drift Distance:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The maximum distance that each light will move.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Drift Size Speed:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The speed at which lights change their size.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Drift Size Distance:
   </b>
   <i>
    Default:
   </i>
   0.3,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The maximum amount by which each light's
    size will change.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Drift Smoothness:
   </b>
   <i>
    Default:
   </i>
   0.65,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the amount of
    high frequency variation in each light's motion. Increase this
    for a gentle drifting motion. Decrease for a jerky shaking motion.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Use Source Color:
   </b>
   <i>
    Default:
   </i>
   0.25,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Scales the lights by a smoothed version of the
    Source clip. Increase this to help the lights blend with the background.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Smooth Source Color:
   </b>
   <i>
    Default:
   </i>
   0.4,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The amount to blur the Source clip before
    scaling the lights. Has no effect if Use Source Color is zero.
  </dd>
 </dl>
 <h3>
  Params2:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Roundness:
   </b>
   <i>
    Default:
   </i>
   0.3,
   <i>
    Range:
   </i>
   any.
   <br/>
   Modifies the shape of the simulated camera iris.  A
  value of 1 produces a circle; 0 gives a flat-sided polygon with a
  number of sides given by the Shape parameter.  Less than 0 causes
  the sides to squeeze inward giving a star shape, while a value greater
  than 1 causes the corners to squeeze inward, giving a flowery
  shape. Has no effect if the Shape is set to Circle.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Rotate:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   any.
   <br/>
   Rotates the iris shape.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bokeh:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   any.
   <br/>
   Softens the outer edge of the iris shape, which gives a
  softer look to the defocused highlights. A negative value darkens
  the center of the iris shape, producing a ring-like defocus shape.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Lens Noise:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Increase to add noise to the iris shape, dirtying up the defocus a little.  Can make the result more realistic.  Turn up past 1 for a more stylistic result.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Noise Freq:
   </b>
   <i>
    Default:
   </i>
   20,
   <i>
    Range:
   </i>
   0.01 or greater.
   <br/>
   The frequency of the added noise.  Ignored if Lens Noise is zero.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Noise Freq Rel X:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0.01 or greater.
   <br/>
   The relative horizontal frequency of the
  added iris noise.  Increase to stretch it vertically or decrease to
  stretch it horizontally.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Flicker Amp:
   </b>
   <i>
    Default:
   </i>
   0.2,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The amount of random flickering of the lights.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Flicker Speed:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The speed of random flickering.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Flicker Randomness:
   </b>
   <i>
    Default:
   </i>
   0.7,
   <i>
    Range:
   </i>
   0 to 1.
   <br/>
   Controls the variability of the flicker. When set to zero, the
lights will flicker constantly, with a small amount of random variation. At higher values,
the flickering will have longer steady spells, with the occasional large spike.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Chroma Distort:
   </b>
   <i>
    Default:
   </i>
   0.05,
   <i>
    Range:
   </i>
   any.
   <br/>
   Adds some chromatic aberration around the edges of
  the image; red and blue wavelengths of light refract differently in
  real lenses, producing fringes of color where the rays strike the
  lens at oblique angles.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Color Fringing:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   any.
   <br/>
   Color Fringing produces rings of color around
  every object in the image by varying the focal distance for each
  color channel.  It gives a different style of chromatic aberration
  from Chroma Distort because it's not just in the image corners.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Speed:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Translation speed of the lights.  If non-zero, the
    result is automatically animated to shift at this rate.  The result
    of animated Speed values may not be intuitive, so for variable
    speed motion it is usually best to set this to 0 and animate the
    Shift Start values instead.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Shift Start:
   </b>
   <i>
    X &amp; Y,   Default:
   </i>
   [0 0],
   <i>
    Range:
   </i>
   any.
   <br/>
   Translation offset of the lights.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mask:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Blurs the Mask input by this amount before using.  This
can provide a smoother transition between the masked and unmasked
areas.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mask:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off.
   <br/>
   If enabled, inverts the mask input so the effect is applied
to areas where the Mask is black instead of white.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mask Type:
   </b>
   <i>
    Popup menu,  Default: Luma
   </i>
   .
   <br/>
   This setting is ignored unless the Mask input is provided.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Luma:
      </i>
     </b>
     uses the luminance of the Mask input to scale the brightness of the lights.
     <br/>
     <dd>
      <b>
       <i>
        Color:
       </i>
      </b>
      uses the RGB channels of the Mask input to scale the colors of the lgiths.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <h3>
  Params3:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater,
   <i>
    Shared
   </i>
   .
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater,
   <i>
    Shared
   </i>
   .
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1,
   <i>
    Shared
   </i>
   .
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off,
   <i>
    Shared
   </i>
   .
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off,
   <i>
    Shared
   </i>
   .
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off,
   <i>
    Shared
   </i>
   .
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#res-options">
  Res
 </a>
 ,
 <a href="../general-info#on-fields">
  On Fields
 </a>
 ,
 <a href="../general-info#redraw-modes">
  Redraw
 </a>
 ,
 <a href="../general-info#undo">
  Undo
 </a>
 ,
 <a href="../general-info#undo">
  Load Defaults
 </a>
 ,
 <a href="../general-info#cropping">
  Crop
 </a>
 ,
 <a href="../general-info#add-noise">
  Add Noise
 </a>
 , and
 <a href="../general-info#colorspace">
  Use Gamma
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
      <a href="../rackdefocus">
       RackDefocus
      </a>
      <br/>
      <a href="../rackdefocusmono">
       RackDefocusMono
      </a>
      <br/>
      <a href="../defocusprism">
       DefocusPrism
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
     </td>
     <td valign="top">
      <a href="../rackdfcomp">
       RackDfComp
      </a>
      <br/>
      <a href="../blur">
       Blur
      </a>
      <br/>
      <a href="../blurchannels">
       BlurChannels
      </a>
      <br/>
      <a href="../blurchroma">
       BlurChroma
      </a>
      <br/>
      <a href="../zdefocus">
       ZDefocus
      </a>
      <br/>
      <a href="../convolve">
       Convolve
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
