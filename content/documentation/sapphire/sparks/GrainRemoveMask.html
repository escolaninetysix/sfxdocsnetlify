{
   "title": "Sapphire Plug-ins for Autodesk: GrainRemoveMask",
   "date": "2018-12-13T00:00:00",
   "thumbnail_url": "//cdn.borisfx.com/documentation/sapphire/GrainRemove.jpg"
}
 <font size="1">
 </font>
 <table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
   <td valign="top">
    <a name="GrainRemoveMask">
     <h2>
      GrainRemoveMask
     </h2>
    </a>
    In the S_GrainMask Plugin.
    <p>
     Similar to GrainRemove but only applies the
affect to areas specified by the Mask input.  Smooths the source clip
while retaining the edges.  To adjust the parameters in this effect,
first use the show:EDGES option to inspect which edges will be
retained and adjust Edges Threshold, Edges Width, and Edges Scale
until the important edges are fairly sharp and bright but not jaggy.
Then return to show:RESULT and adjust the smooth parameters to remove
the appropriate amount of grain.
    </p>
    <h3>
     Inputs:
    </h3>
    <dl>
     <dd>
      <b>
       Source:
      </b>
      The clip to be processed.
     </dd>
    </dl>
    <p>
    </p>
    <dl>
     <dd>
      <b>
       Mask:
      </b>
      Scales the amplitude of the applied effect.  For black areas
  of Mask, the Source remains unchanged, for gray areas the effect is
  reduced.  Only the red channel of this input is used.  The mask can
  optionally be inverted using Invert Mask parameter.
     </dd>
    </dl>
   </td>
   <td>
   </td>
   <td align="right" valign="top" width="244">
    <table border="0" cellpadding="2" cellspacing="0">
     <tr>
      <td bgcolor="#404040" height="162" valign="center" width="240">
       <img align="center" alt="" height="162" src="//cdn.borisfx.com/documentation/sapphire/GrainRemove.jpg" valign="bottom" width="240"/>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
 <p>
 </p>
 <h3>
  Parameters:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Load Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Browser to browse all available presets for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Save Preset:
   </b>
   <i>
    Push-button
   </i>
   .
   <br/>
   Brings up the Preset Save dialog to save a preset for this effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Smooth:
   </b>
   <i>
    Default:
   </i>
   0.1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The amount of smoothing to apply to the non-edge regions.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Smooth Luma:
   </b>
   <i>
    Default:
   </i>
   0.5,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the smoothing amount for the luminance component.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Smooth Chroma:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   Scales the smoothing amount for the chrominance component.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show:
   </b>
   <i>
    Popup menu,  Default: Result
   </i>
   .
   <br/>
   Selects between output options.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Result:
      </i>
     </b>
     outputs the final result.
     <br/>
     <dd>
      <b>
       <i>
        Edges:
       </i>
      </b>
      outputs an image showing which edges are to be retained.
      <br/>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Edges Width:
   </b>
   <i>
    Default:
   </i>
   0.02,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The width of the edges to be retained.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Edges Scale:
   </b>
   <i>
    Default:
   </i>
   0.25,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   The brightness of the edges to be retained.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Edges Threshold:
   </b>
   <i>
    Default:
   </i>
   0.3,
   <i>
    Range:
   </i>
   0 or greater.
   <br/>
   This value is subtracted from the initial edge
  image.  Increasing it can help remove minor edges and speckles that
  should not be retained.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mask:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off,
   <i>
    Shared
   </i>
   .
   <br/>
   If enabled, inverts the mask input so the effect is applied
to areas where the Mask is black instead of white.
  </dd>
 </dl>
 <h3>
  Params2:
 </h3>
 <h3>
  Params3:
 </h3>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater,
   <i>
    Shared
   </i>
   .
   <br/>
   Brings up the Mocha window for tracking footage and
  generating masks.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Blur Mocha:
   </b>
   <i>
    Default:
   </i>
   0,
   <i>
    Range:
   </i>
   0 or greater,
   <i>
    Shared
   </i>
   .
   <br/>
   Blurs the Mocha Mask by this amount before using.
  This can be used to soften the edges or quantization artifacts of
  the mask, and smooth out the time displacements.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Mocha Opacity:
   </b>
   <i>
    Default:
   </i>
   1,
   <i>
    Range:
   </i>
   0 to 1,
   <i>
    Shared
   </i>
   .
   <br/>
   Controls the strength of the Mocha mask.
  Lower values reduce the intensity of the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Invert Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off,
   <i>
    Shared
   </i>
   .
   <br/>
   If enabled, the black and white of the Mocha Mask
  are inverted before applying the effect.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Show Mocha Only:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off,
   <i>
    Shared
   </i>
   .
   <br/>
   Bypass the effect and show the Mocha Mask itself.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Bypass Mocha:
   </b>
   <i>
    Check-box,  Default:
   </i>
   off,
   <i>
    Shared
   </i>
   .
   <br/>
   Ignore the Mocha Mask and apply the effect to the
  entire source clip.
  </dd>
 </dl>
 <p>
 </p>
 <dl>
  <dd>
   <b>
    Combine Masks:
   </b>
   <i>
    Popup menu,  Default: Union
   </i>
   .
   <br/>
   Determines how to combine the Mocha Mask and Input
  Mask when both are supplied to the effect.
   <br/>
   <dl>
    <dd>
     <b>
      <i>
       Union:
      </i>
     </b>
     Uses the area covered by both masks together.
     <br/>
     <dd>
      <b>
       <i>
        Intersect:
       </i>
      </b>
      Uses the area that overlaps between the two masks.
      <br/>
      <dd>
       <b>
        <i>
         Mocha Only:
        </i>
       </b>
       Ignore the Input Mask and only use the
  Mocha Mask.
       <br/>
      </dd>
     </dd>
    </dd>
   </dl>
  </dd>
 </dl>
 See general info for:
 <a href="../general-info#res-options">
  Res
 </a>
 ,
 <a href="../general-info#on-fields">
  On Fields
 </a>
 ,
 <a href="../general-info#redraw-modes">
  Redraw
 </a>
 ,
 <a href="../general-info#undo">
  Undo
 </a>
 ,
 <a href="../general-info#undo">
  Load Defaults
 </a>
 ,
 <a href="../general-info#cropping">
  Crop
 </a>
 ,
 <a href="../general-info#add-noise">
  Add Noise
 </a>
 , and
 <a href="../general-info#colorspace">
  Use Gamma
 </a>
 .
 <p>
  <br/>
 </p>
 <h3>
  See Also:
 </h3>
 <dl>
  <dd>
   <table border="0" cellpadding="0" cellspacing="0">
    <tr>
     <td valign="top">
      <a href="../graincolormask">
       GrainColorMask
      </a>
      <br/>
      <a href="../grainmonomask">
       GrainMonoMask
      </a>
      <br/>
      <a href="../staticcolormask">
       StaticColorMask
      </a>
      <br/>
      <a href="../staticmonomask">
       StaticMonoMask
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../grainremove">
       GrainRemove
      </a>
      <br/>
      <a href="../grainremovecomp">
       GrainRemoveComp
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../blur">
       Blur
      </a>
      <br/>
      <a href="../sharpen">
       Sharpen
      </a>
      <br/>
     </td>
     <td width="40">
     </td>
     <td valign="top">
      <a href="../intro">
       Sapphire Plug-ins Introduction
      </a>
     </td>
    </tr>
   </table>
  </dd>
 </dl>
