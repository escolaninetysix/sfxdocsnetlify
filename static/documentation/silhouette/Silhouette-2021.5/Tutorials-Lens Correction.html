<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Lens Correction</title><link rel="Prev" href="Tutorials-zMatte.html" title="Previous" /><link rel="Next" href="Tutorials-Pin%20Based%20Warping.html" title="Next" /><link rel="StyleSheet" href="../css/font-awesome/css/font-awesome.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/Tutorials.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><noscript><div id="noscript_padding"></div></noscript></head><body id="po8CxgGjXG_002b9aH8fgwnjdug" class="ww_skin_page_body" style="visibility: hidden;"><input type="hidden" id="page_onload_url" value="../index.html#page/Silhouette-2021.5/Tutorials-Lens%20Correction.html"></input><span id="dropdown_ids" style="display:none;"></span><div id="ww_content_container"><header id="wwconnect_header"><div class="ww_skin_breadcrumbs"><a class="WebWorks_Breadcrumb_Link" href="Cover.html">Silhouette-2021.5</a> : <a class="WebWorks_Breadcrumb_Link" href="Tutorials-Starting%20Silhouette.html#1672058">Tutorials</a> : Lens Correction</div><div class="ww_skin_page_toolbar"><div id="dropdown_button_container" class="dropdown_container dropdown_button_container_disabled"><a id="show_hide_all" class="ww_skin ww_behavior_dropdown_toggle ww_skin_dropdown_toggle" title="Page DropDown Toggle" href="#"><i class="fa"></i></a><span class="ww_skin_page_toolbar_divider">&nbsp;</span></div><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#"><i class="fa"></i></a></div><!-- was this helpful button --><!--                         --></header><div id="page_content_container"><div id="page_content"><div id="ww1672058" class="Head1"><span></span>Lens Correction</div><div id="ww1672059" class="Body">Powered by Silhouette’s Roto tools, Lens Correction locates and undistorts lens distortion. To compute lens distortion, you need an image with one or more distorted straight lines or a distortion map, sometimes called a UV map or ST Map. The Lens Correction node is built on shared technology from Mocha Pro’s Lens Module.</div><div id="ww1672060" class="Head2"><span></span>Line Calibration</div><div id="ww1672061" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">1	</span></span>Load a source clip and create a session.</div><div id="ww1672062" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">2	</span></span>In the Trees window, add a Lens Correction node from the Nodes &gt; Warp group and connect it to the source node.</div><div id="ww1672063" class="Body">A common way to generate accurate distortion models is to photograph a calibration grid, which provides a source of long straight lines.</div><div id="ww1672064" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">3	</span></span>If you are using a calibration grid, connect it to the Calibration Reference input.</div><div id="ww1672065" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">4	</span></span>Single-click in the center of the Lens Correction node to view and edit it.</div><div id="ww1672066" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">5	</span></span>If you are using a calibration clip, select View &gt; Calibration Reference, otherwise leave the View set to Output.</div><div class="ww_skin_page_overflow"><div id="ww1672067" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">6	</span></span>Using the integrated Roto shape tools in the Toolbar, create at least one open shape over a curved line that should be straight. To finish drawing an open shape, select the Reshape tool or press the Esc key.<span style="font-size: 11.0pt; font-weight: normal"><img class="Default" src="https://borisfx-com-res.cloudinary.com/image/upload/v1665681800/documentation-si/Silhouette-2021.5/images/Tutorials.05.21.1.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 303px; max-width: 528px; top: 0.0pt" alt="" title="" /></span></div></div><div id="ww1672075" class="Bulleted"><span class="WebWorks_Number" style="width: 12.96pt"><span class="Bulletsymbol">•	</span></span>Choose lines that exhibit the most distortion, typically those reaching towards the edge of the image, and not pointing towards the center.</div><div id="ww1672076" class="Bulleted"><span class="WebWorks_Number" style="width: 12.96pt"><span class="Bulletsymbol">•	</span></span>Make sure the lines cover the majority of the image, otherwise the distortion may be computed incorrectly in the areas where there are no lines.</div><div class="ww_skin_page_overflow"><div id="ww1672081" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">7	</span></span>Once lines are defined, click the Node tab to view the Lens Correct parameters.<img class="Default" src="https://borisfx-com-res.cloudinary.com/image/upload/v1665681800/documentation-si/Silhouette-2021.5/images/Tutorials.05.21.2.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 60px; max-width: 350px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1672082" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">8	</span></span>In the Camera Model pop-up menu, select a model. Usually 1-Parameter or 2-Parameter are good choices.</div><div id="ww1672083" class="Bulleted" style="margin-bottom: 0.0pt"><span class="WebWorks_Number" style="width: 12.96pt"><span class="Bulletsymbol">•	</span></span>1-Parameter</div><div class="ww_skin_page_overflow"><div id="ww1672087" class="Body" style="margin-bottom: 0.0pt">Use when a small amount of distortion is present.<img class="Default" src="https://borisfx-com-res.cloudinary.com/image/upload/v1665681800/documentation-si/Silhouette-2021.5/images/lens-1-parameter.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 222px; max-width: 294px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1672088" class="Bulleted" style="margin-bottom: 0.0pt"><span class="WebWorks_Number" style="width: 12.96pt"><span class="Bulletsymbol">•	</span></span>2-Parameter</div><div class="ww_skin_page_overflow"><div id="ww1672089" class="Body">Use the 2-Parameter radial distortion model if 1-Parameter doesn’t capture all the distortion in the image. This distortion model is often used when there is a wave or irregularity in the lens.<img class="Default" src="https://borisfx-com-res.cloudinary.com/image/upload/v1665681800/documentation-si/Silhouette-2021.5/images/lens-2-parameter.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 228px; max-width: 300px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1672093" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">9	</span></span>Make sure the View is set to Output.</div><div id="ww1672094" class="Body">The Correction pop-up menu determines whether the image is undistorted (the default) or distorted. You would use Distort if you are returning the image back to its original distorted state after previously undistorting it.</div><div class="ww_skin_page_overflow"><div id="ww1672098" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">10	</span></span>Click the Calibrate button to compute and apply the lens correction.<img class="Default" src="https://borisfx-com-res.cloudinary.com/image/upload/v1665681800/documentation-si/Silhouette-2021.5/images/lens-undistorted.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 294px; max-width: 518px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1672099" class="Head2"><span></span>Using Distortion Maps</div><div class="ww_skin_page_overflow"><div id="ww1672100" class="Body">Distortion maps can be used to correct lens distortion.<img class="Default" src="https://borisfx-com-res.cloudinary.com/image/upload/v1665681800/documentation-si/Silhouette-2021.5/images/lens-distortion-map.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 182px; max-width: 318px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1672104" class="Note"><span style="font-weight: bold; text-decoration: underline">Note:</span> Distortion maps must be 32 bit float RGB.</div><div id="ww1672105" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">1	</span></span>Load source and distortion map clips and create a session.</div><div id="ww1672106" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">2	</span></span>In the Trees window, add a Lens Correction node from the Nodes &gt; Warp group and connect it to the source node.</div><div id="ww1672107" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">3	</span></span>Connect the distortion map into the Distortion Map input.</div><div id="ww1676514" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">4	</span></span>In the Camera Model pop-up menu, select Distortion Map.</div><div id="ww1672054" class="Body">The lens is automatically corrected based on the distortion map.</div><div id="ww1674007" class="Head2"><span></span>Rendering Distortion Maps</div><div id="ww1674041" class="Body">The Lens Correction node can output Undistort and Distortion Maps.</div><div id="ww1674126" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">1	</span></span>Connect an Output node to Lens Correct’s Undistort Map output (middle output).</div><div id="ww1674226" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">2	</span></span>Connect an Output node to Lens Correct’s Distortion Map output (right output).</div><div id="ww1674308" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">3	</span></span>Make sure your Session is set to 32 bit float and select a file format that supports 32 bit float such as EXR.</div><div id="ww1674442" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">4	</span></span>In the Render Options window, make sure you select Data Window &gt; DOD and for non-EXR images, also disable Crop/Pad in the Output node.</div><div id="ww1674513" class="Body">This will ensure that if the lens correction created a DOD larger than the Session size, the rendered file will also be larger.</div><div id="ww1672228" class="Body">Go to the <span style="color: #0000ff; font-weight: bold"><a href="../Silhouette-2021.5/Nodes-Lens%20Correction.html#ww2668856" title="Lens Correction">Lens Correction</a></span> node for more information.</div><div id="ww1672342" class="Head2"><span></span>Manual Correction</div><div id="ww1672369" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">1	</span></span>Load a source clip and create a session.</div><div id="ww1672370" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">2	</span></span>In the Trees window, add a Lens Correction node from the Nodes &gt; Warp group and connect it to the source node.</div><div id="ww1672373" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">3	</span></span>Single-click in the center of the Lens Correction node to view and edit it.</div><div id="ww1672388" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">4	</span></span>In the Camera Model pop-up menu, select a model. Usually 1-Parameter or 2-Parameter are good choices.</div><div id="ww1672384" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">5	</span></span>Set the View to Grid.</div><div id="ww1672523" class="Body">A grid is displayed over the input image so you can adjust the distortion parameters manually.</div><div class="ww_skin_page_overflow"><div id="ww1672521" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">6	</span></span>Adjust K1 for 1-Parameter or K1 and K2 for 2-Parameter until the grid lines match the curves in the input clip.<img class="Default" src="https://borisfx-com-res.cloudinary.com/image/upload/v1665681800/documentation-si/Silhouette-2021.5/images/lens-correct-grid.jpg" width="100%" style="display: block; left: 0.0pt; max-height: 294px; max-width: 511px; top: 0.0pt" alt="" title="" /></div></div><div id="ww1672833" class="Numbered"><span class="WebWorks_Number" style="width: 18pt"><span class="Number">7	</span></span>Set the View to Output to see the resulting lens correction.</div><div id="ww1672365" class="Body">&nbsp;</div></div><div id="page_dates"></div><!-- Related Topics --><!--                --><footer><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><div class="ww_skin_page_globalization"><div id="google_translate_element">&nbsp;</div></div><br /></footer></div></div><input type="hidden" id="preserve_unknown_file_links" value="false"></input><noscript><div id="noscript_warning">This site works best with JavaScript enabled</div></noscript><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></body></html>